\documentclass[a4paper, 12pt] {article}

\include{setup}

\begin{document}
\pagenumbering{Roman}
\include{frontpage}
\newpage

\tableofcontents
\newpage

\pagenumbering{arabic}

\section{Oppgave 1}

\subsection{a)}

\textbf{Nøkkel:} Den enkelte eller den minimale mengden identifiserende attributtene ved en tabell. Må være unikt identifiserende for hver rad i tabellen. Kan være en enkelt attributt eller en mengde attributter.


\textbf{Supernøkkel:} En mengde attributter i en tabell som sammen fungerer som nøkkel for alle rader i tabellen. Kan også defineres som en mengde av attributter i en relasjon der alle andre attributter er funksjonelt avhengige av supernøkkelattributtene.


\textbf{Funksjonell avhengighet:} En funksjonell avhengighet $X \rightarrow Y$, der $X$ og $Y$ er mengder av attributter, betyr at verdiene av attributtene i $X$ bestemmer verdiene av $Y$.

\subsection{b)}

Tillukningen ($X^+$) til en mengde attributter $X$ er mengden av alle attributter i relasjonen R som er funksjonelt avhengig av $X$.

Algoritme for $X^+$, med hensyn på en mengde funksjonelle avhengigheter F:

\begin{lstlisting}[language=Python, caption=Tillukningsalgoritme, mathescape]
$X^+$ = $X$
$X^+_{gammel}$ = null
while not $X^+_{gammel} == X^+$:
$X^+_{gammel}$ = $X^+$
for functional dependency $Y \rightarrow Z$ in F:
if $Y$ in $X^+$:
$X^+$ = $X^+ \cup Z$
\end{lstlisting}

\subsection{c)}

\begin{gather*}
    a^+ = \{a, e\} \\
    ab^+ = \{a, b, c, d, e\} \\
    e^+ = \{e\}
\end{gather*}

\subsection{d)}

For at en mengde attributter skal være en supernøkkel, må tillukningen av mengden inneholde alle attributter i relasjonen. For en mengde attributter $X$ fra en relasjon $R$ avgjør vi om $X$ er en supernøkkel ved å finne $X^+$ og sjekke om $X^+$ inneholder alle attributter i $R$.

\section{Oppgave 2}

\newpage
\section{Oppgave 3}
~\\
Setter inn verdien $12$: $12 \mod 5 = 2$\\
\begin{tabular}{|l|l|l|}
    \hline
    Adresse & Post 1 & Post 2 \\
    0       & (ledig)& (ledig)\\
    1       & (ledig)& (ledig)\\
    2       & 12     & (ledig)\\
    3       & (ledig)& (ledig)\\
    4       & (ledig)& (ledig)\\ \hline
\end{tabular}

~\\
Setter inn verdien $9$: $9 \mod 5 = 4$\\
\begin{tabular}{|l|l|l|}
    \hline
    Adresse & Post 1 & Post 2 \\
    0       & (ledig)& (ledig)\\
    1       & (ledig)& (ledig)\\
    2       & 12     & (ledig)\\
    3       & (ledig)& (ledig)\\
    4       & 9      & (ledig)\\ \hline
\end{tabular}

~\\
Setter inn verdien $3$: $3 \mod 5 = 3$\\
\begin{tabular}{|l|l|l|}
    \hline
    Adresse & Post 1 & Post 2 \\
    0       & (ledig)& (ledig)\\
    1       & (ledig)& (ledig)\\
    2       & 12     & (ledig)\\
    3       & 3      & (ledig)\\
    4       & 9      & (ledig)\\ \hline
\end{tabular}

~\\
Setter inn verdien $18$: $18 \mod 5 = 3$\\
Her må altså post 2 tas i bruk.\\
\begin{tabular}{|l|l|l|}
    \hline
    Adresse & Post 1 & Post 2 \\
    0       & (ledig)& (ledig)\\
    1       & (ledig)& (ledig)\\
    2       & 12     & (ledig)\\
    3       & 3      & 18      \\
    4       & 9      & (ledig)\\ \hline
\end{tabular}

~\\
Setter inn verdien $22$: $22 \mod 5 = 2$\\
\begin{tabular}{|l|l|l|}
    \hline
    Adresse & Post 1 & Post 2 \\
    0       & (ledig)& (ledig)\\
    1       & (ledig)& (ledig)\\
    2       & 12     & 22     \\
    3       & 3      & 18     \\
    4       & 9      & (ledig)\\ \hline
\end{tabular}

~\\
Setter inn verdien $1$: $1 \mod 5 = 1$\\
\begin{tabular}{|l|l|l|}
    \hline
    Adresse & Post 1 & Post 2 \\
    0       & (ledig)& (ledig)\\
    1       & 1      & (ledig)\\
    2       & 12     & 22     \\
    3       & 3      & 18     \\
    4       & 9      & (ledig)\\ \hline
\end{tabular}

~\\
Setter inn verdien $37$: $37 \mod 5 = 2$\\
Det finnes ingen ledig post for verdien, så vi oppretter en overflyts-blokk med to nye poster.\\
\begin{tabular}{|l|l|l|l|l|}
    \hline
    Adresse & Post 1 & Post 2 & Of1 p1 & Of1 p2 \\
    0       & (ledig)& (ledig)& ---   & ---   \\
    1       & 1      & (ledig)& ---   & ---   \\
    2       & 12     & 22     & 37     & (ledig)\\
    3       & 3      & 18     & ---   & ---   \\
    4       & 9      & (ledig)& ---   & ---   \\ \hline
\end{tabular}

~\\
Setter inn verdien $11$: $11 \mod 5 = 1$\\
\begin{tabular}{|l|l|l|l|l|}
    \hline
    Adresse & Post 1 & Post 2 & Of1 p1 & Of1 p2 \\
    0       & (ledig)& (ledig)& ---   & ---   \\
    1       & 1      & 11     & ---   & ---   \\
    2       & 12     & 22     & 37     & (ledig)\\
    3       & 3      & 18     & ---   & ---   \\
    4       & 9      & (ledig)& ---   & ---   \\ \hline
\end{tabular}

~\\
Setter inn verdien $87$: $87 \mod 5 = 2$\\
\begin{tabular}{|l|l|l|l|l|}
    \hline
    Adresse & Post 1 & Post 2 & Of1 p1 & Of1 p2 \\
    0       & (ledig)& (ledig)& ---   & ---   \\
    1       & 1      & 11     & ---   & ---   \\
    2       & 12     & 22     & 37     & 87     \\
    3       & 3      & 18     & ---   & ---   \\
    4       & 9      & (ledig)& ---   & ---   \\ \hline
\end{tabular}

~\\
Setter inn verdien $2$: $2 \mod 5 = 2$\\
Det finnes ingen ledig post for verdien, så vi må opprette en ny overflyts-blokk.\\
\begin{tabular}{|l|l|l|l|l|l|l|}
    \hline
    Adresse & Post 1 & Post 2 & Of1 p1 & Of1 p2 & Of2 p1 & Of2 p2 \\
    0       & (ledig)& (ledig)& ---   & ---   & ---   & ---   \\
    1       & 1      & 11     & ---   & ---   & ---   & ---   \\
    2       & 12     & 22     & 37     & 87     & 2      & (ledig)\\
    3       & 3      & 18     & ---   & ---   & ---   & ---   \\
    4       & 9      & (ledig)& ---   & ---   & ---   & ---   \\ \hline
\end{tabular}

~\\
Setter inn verdien $1$: $1 \mod 5 = 1$\\
Det finnes ingen ledig post for verdien, så vi må opprette en ny overflyts-blokk.\\
\begin{tabular}{|l|l|l|l|l|l|l|}
    \hline
    Adresse & Post 1 & Post 2 & Of1 p1 & Of1 p2 & Of2 p1 & Of2 p2 \\
    0       & (ledig)& (ledig)& ---   & ---   & ---   & ---   \\
    1       & 1      & 11     & 1      & (ledig)& ---   & ---   \\
    2       & 12     & 22     & 37     & 87     & 2      & (ledig)\\
    3       & 3      & 18     & ---   & ---   & ---   & ---   \\
    4       & 9      & (ledig)& ---   & ---   & ---   & ---   \\ \hline
\end{tabular}
\end{document}
